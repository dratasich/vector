features:
- kafka-integration-tests

test_filter: '::kafka::'

env:
  KAFKA_HOST: kafka

matrix:
  version:
  - "3.9.1"
  - "4.1.0"

# changes to these files/paths will invoke the integration test in CI
# expressions are evaluated using https://github.com/micromatch/picomatch
paths:
- "src/internal_events/kafka.rs"
- "src/sinks/kafka/**"
- "src/sinks/util/**"
- "src/sources/kafka.rs"
- "src/sources/util/**"
- "src/kafka.rs"
- "scripts/integration/kafka/**"
